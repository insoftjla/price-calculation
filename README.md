## Запуск приложения

### Docker
Для сборки БД, приложения и запуска:
```
docker compose up --build api
```

Порты 
api: 8337
db: 5432

### Other
Для запуска приложения необходимо определить ENV:
```
DB_URL
DB_USERNAME
DB_PASSWORD
```
Порт по умолчанию: 8080

## Перечень существующих продуктов

- Iphone  (100 евро)
- Наушники (20 евро)
- Чехол (10 евро);

## Доступные купоны

- P10
- P15
- P100
- D50
- D100

P - процент от суммы покупки
D - фиксированная сумма скидки

## POST: для расчёта цены /calculate-price

Стоимость возвращается в минимальной дробной денежной единице (11160 / 100 = 111.60 евро).
Пример тела запроса:

```
{
    "product": 1,
    "taxNumber": "GR123456789",
    "couponCode": "P10"
}
```

Примеры успешного ответа:

```
{
    "name": "Iphone",
    "totalPrice": 11160
}
```

Примеры неуспешного ответа:

```
{
    "code": 400,
    "message": "taxNumber Tax number not supported"
}
```

## POST: для осуществления покупки /purchase

Пример тела запроса:

```
{
    "product": 2,
    "taxNumber": "DE123456789",
    "couponCode": "D50",
    "paymentProcessor": "stripe"
}
```

Примеры успешного ответа:

```
true
```

Примеры неуспешного ответа:

```
{
    "code": 400,
    "message": "Processor stripet not supported"
}
```
